<ng-container *ngIf="profile !== undefined; else loading">
  <div id="follow" class="row">
    <button mat-raised-button>Followers: {{ followers }}</button>
    <button mat-raised-button>Following: {{ following }}</button>
  </div>

  <div class="row xy-center">
    <div id="picture">
      <img [src]="profile.profilepicture" />
    </div>

    <div id="acs" class="column xy-center">
      <p>ACS</p>
      <p>{{ profile.acs }}</p>
    </div>
  </div>

  <div id="name">
    <p>{{ profile.user.username }}</p>
  </div>

  <div id="status" class="row xy-center">
    <p>Status:</p>

    <input
      *ngIf="editStatusMode"
      matInput
      type="text"
      [(ngModel)]="profile.status"
    />
    <p *ngIf="!editStatusMode">{{ profile.status }}</p>

    <ng-container *ngIf="(userId$ | async) === profile.user.id">
      <button
        *ngIf="!editStatusMode"
        color="accent"
        mat-icon-button
        (click)="beginEditStatus()"
      >
        <mat-icon>create</mat-icon>
      </button>

      <button
        *ngIf="editStatusMode"
        color="accent"
        mat-icon-button
        (click)="submitNewStatus()"
      >
        <mat-icon>save</mat-icon>
      </button>
    </ng-container>
  </div>

  <div id="about" class="column">
    <div class="row">
      <label for="about-message">About</label>

      <ng-container *ngIf="(userId$ | async) === profile.user.id">
        <button
          *ngIf="!editAboutMode"
          color="accent"
          mat-icon-button
          (click)="beginEditAbout()"
        >
          <mat-icon>create</mat-icon>
        </button>

        <button
          *ngIf="editAboutMode"
          color="accent"
          mat-icon-button
          (click)="submitNewAbout()"
        >
          <mat-icon>save</mat-icon>
        </button>
      </ng-container>
    </div>

    <p *ngIf="!editAboutMode">{{ profile.about }}</p>
    <textarea
      *ngIf="editAboutMode"
      id="about-message"
      matInput
      rows="3"
      cols="50"
      [(ngModel)]="profile.about"
    >
      {{ profile.about }}
    </textarea>
  </div>
</ng-container>
<ng-template #loading> loading </ng-template>
