<mat-toolbar>
  <div id="icon">
    <img src="../../assets/icon.png" class="logo" />
  </div>
  <app-search-bar></app-search-bar>
  <div style="flex-grow: 9"></div>
  <button
    [matMenuTriggerFor]="notifications"
    [matBadge]="notificationsCount"
    matBadgePosition="above after"
    matBadgeSize="medium"
    [matBadgeOverlap]="true"
    id="notifications"
    mat-icon-button
  >
    <mat-icon> notifications </mat-icon>
  </button>
  <div *ngIf="(curPage$ | async)?.includes(all_routes.zonehome.url)">
    <mat-slide-toggle [(ngModel)]="sidenavExpanded" (change)="toggle($event)">
    </mat-slide-toggle>
  </div>
</mat-toolbar>

<mat-menu #notifications xPosition="before">
  <div
    class="notification-item"
    mat-menu-item
    *ngFor="let instance of triviaInstances"
    [disabled]="instance.score !== UNPLAYED_GAME"
  >
    <ng-container *ngIf="instance.score !== UNPLAYED_GAME">
      Finished game with: {{ instance.opponentName }} | Score:
      {{ instance.score }}
    </ng-container>

    <ng-container *ngIf="instance.score === UNPLAYED_GAME">
      <span>Game with {{ instance.opponentName }}</span>
      <button color="primary" mat-raised-button (click)="playTrivia(instance)">
        Play
      </button>
    </ng-container>
  </div>
</mat-menu>
