<ng-container *ngIf="rawData !== undefined; else loading">
    <ng-container *ngIf="rawData !== []; else nodata">

        <!-- if we have these types, just display a bar graph -->

        <div class="chart" *ngIf="
        question.question_type === questionTypes.players ||
        question.question_type === questionTypes.teams ||
        question.question_type === questionTypes.sports ||
        question.question_type === questionTypes.quantitative ||
        question.question_type === questionTypes.custom
        ">
            <app-bar-echarts [dataAxis]="dataAxis" [dataList]="dataList"></app-bar-echarts>
        </div>
        <!-- qualitative answers need to be in sheet format -->
        <mat-table [dataSource]="dataList" *ngIf="question.question_type === questionTypes.qualitative">
            <!-- User name Definition -->
            <ng-container matColumnDef="UserId">
              <mat-header-cell *matHeaderCellDef> User Id </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{row.user.id}} </mat-cell>
            </ng-container>
          
            <!-- Age Definition -->
            <ng-container matColumnDef="User Name">
              <mat-header-cell *matHeaderCellDef> User Name </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{row.user.username}} </mat-cell>
            </ng-container>
          
            <!-- Title Definition -->
            <ng-container matColumnDef="Answer">
              <mat-header-cell *matHeaderCellDef> Answer </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{row.answer}} </mat-cell>
            </ng-container>
          
            <!-- Header and Row Declarations -->
            <mat-header-row *matHeaderRowDef="['UserId', 'User Name', 'Answer']"></mat-header-row>
            <mat-row *matRowDef="let row; columns: ['UserId', 'User Name', 'Answer']"></mat-row>

            <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
          </mat-table>
    </ng-container>
</ng-container>
    


<ng-template #loading>
    <div class="error">
        <mat-spinner></mat-spinner>
    </div>
</ng-template>
  
<ng-template #nodata>
    <div class="error">
        NO DATA AVAILABLE
    </div>
</ng-template>
  